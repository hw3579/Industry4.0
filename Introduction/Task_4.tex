\section{Task 4}
\FloatBarrier % Now figures cannot float above section title


\subsection{Simulink}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=17cm]{./fig/sim.pdf}
    \caption{plastic modules of rectangular section  }
    \label{f1}
\end{figure}

\subsubsection*{Tidy of the model}
To ensure aesthetic appeal, a modular design approach was adopted, where different modules represent different functionalities, thereby making the overall model's operation flow appear clear and concise.

\subsubsection*{Trajectory generation}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=8cm]{./fig/traj.png}
    \caption{plastic modules of rectangular section  }
    \label{f1}
\end{figure}

Trajectory generation module is an important component of robot motion planning, as it allows robots to move safely and efficiently in complex environments.This module is to convert signals from one coordinate system to another so that we can have easier control of the system. Additionally, the trajectory needs to be smooth, so that the robot does not make sudden changes in direction or speed that may destabilize the system or cause discomfort to human users.

\subsection{PID design}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=10cm]{./fig/PID.png}
    \caption{plastic modules of rectangular section}
    \label{f1}
\end{figure}


With the aim of having better accruacy of the end effect position, we add a feedback control module. Feedback control is a control technique used in engineering to control a system by adjusting its behavior based on measured output signals. In feedback control, the output of the system is measured and compared to a desired end effect position. The difference between the measured output and the desired end effect position is called the error signal, which is then used to adjust the system's behavior through a feedback loop.

In the PID control module, we subtract the desired data from the actual data to obtain the error value, which is then used for PID calculation. We noticed that joints 1, 3, and 4 only use PD controllers because these three joints require a fast response speed and low overshoot, and have lower requirements for steady-state error. For joint 2, which uses a PID controller, it is sensitive to steady-state error due to its rotation around the y-axis. Although there may be difficulty in tuning, we successfully completed the debugging process.




\subsection{Results}




